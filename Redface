local PlayerGui = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")
local TweenService = game:GetService("TweenService")

-- T·∫°o ScreenGui ch√≠nh
local MainGUI = Instance.new("ScreenGui")
MainGUI.Name = "Redface"
MainGUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
MainGUI.ResetOnSpawn = false
MainGUI.Parent = PlayerGui

-- T·∫°o Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 500, 0, 350)
MainFrame.Position = UDim2.new(0.5, -250, 0.5, -175)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
MainFrame.BackgroundTransparency = 0.1
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
MainFrame.Parent = MainGUI

-- Th√™m hi·ªáu ·ª©ng bo g√≥c
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

-- Th√™m shadow
local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.fromRGB(60, 60, 70)
UIStroke.Thickness = 2
UIStroke.Parent = MainFrame
-- Title Bar
local TitleBar = Instance.new("Frame")
TitleBar.Name = "TitleBar"
TitleBar.Size = UDim2.new(1, 0, 0, 40)
TitleBar.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
TitleBar.BorderSizePixel = 0
TitleBar.Parent = MainFrame

-- Title Bar Corner
local TitleCorner = Instance.new("UICorner")
TitleCorner.CornerRadius = UDim.new(0, 12)
TitleCorner.Parent = TitleBar

-- Logo/Icon
local Logo = Instance.new("ImageLabel")
Logo.Name = "Logo"
Logo.Size = UDim2.new(0, 30, 0, 30)
Logo.Position = UDim2.new(0, 10, 0.5, -15)
Logo.BackgroundTransparency = 1
Logo.Image = "rbxassetid://1234567890" -- Thay b·∫±ng ID ·∫£nh c·ªßa b·∫°n
Logo.Parent = TitleBar

-- Title Text
local TitleText = Instance.new("TextLabel")
TitleText.Name = "Title"
TitleText.Size = UDim2.new(0, 200, 1, 0)
TitleText.Position = UDim2.new(0, 50, 0, 0)
TitleText.BackgroundTransparency = 1
TitleText.Text = "REDZ HUB V3"
TitleText.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleText.TextSize = 18
TitleText.Font = Enum.Font.GothamBold
TitleText.TextXAlignment = Enum.TextXAlignment.Left
TitleText.Parent = TitleBar

-- Close Button
local CloseButton = Instance.new("TextButton")
CloseButton.Name = "CloseButton"
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -40, 0.5, -15)
CloseButton.BackgroundColor3 = Color3.fromRGB(220, 60, 60)
CloseButton.BorderSizePixel = 0
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 14
CloseButton.Font = Enum.Font.GothamBold
CloseButton.Parent = TitleBar

-- Corner cho close button
local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 6)
CloseCorner.Parent = CloseButton

-- Minimize Button
local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Size = UDim2.new(0, 30, 0, 30)
MinimizeButton.Position = UDim2.new(1, -80, 0.5, -15)
MinimizeButton.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
MinimizeButton.BorderSizePixel = 0
MinimizeButton.Text = "_"
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.TextSize = 14
MinimizeButton.Font = Enum.Font.GothamBold
MinimizeButton.Parent = TitleBar

local MinimizeCorner = Instance.new("UICorner")
MinimizeCorner.CornerRadius = UDim.new(0, 6)
MinimizeCorner.Parent = MinimizeButton
-- T·∫°o Tab System m·ªõi
local TabContainer = Instance.new("Frame")
TabContainer.Name = "TabContainer"
TabContainer.Size = UDim2.new(0, 150, 1, -40) -- R·ªông h∆°n cho nhi·ªÅu tab
TabContainer.Position = UDim2.new(0, 0, 0, 40)
TabContainer.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
TabContainer.BorderSizePixel = 0
TabContainer.Parent = MainFrame

local UICorner_TabContainer = Instance.new("UICorner")
UICorner_TabContainer.CornerRadius = UDim.new(0, 0, 0, 12)
UICorner_TabContainer.Parent = TabContainer

-- Content Frame
local ContentFrame = Instance.new("Frame")
ContentFrame.Name = "ContentFrame"
ContentFrame.Size = UDim2.new(1, -150, 1, -40)
ContentFrame.Position = UDim2.new(0, 150, 0, 40)
ContentFrame.BackgroundTransparency = 1
ContentFrame.Parent = MainFrame

-- T·∫°o c√°c tab theo y√™u c·∫ßu
local Tabs = {
    {
        Name = "Farm",
        Icon = "‚öîÔ∏è",
        Color = Color3.fromRGB(0, 170, 255) -- Xanh d∆∞∆°ng
    },
    {
        Name = "Setting", 
        Icon = "‚öôÔ∏è",
        Color = Color3.fromRGB(100, 100, 120) -- X√°m
    },
    {
        Name = "Info",
        Icon = "üìã",
        Color = Color3.fromRGB(0, 200, 100) -- Xanh l√°
    },
    {
        Name = "Misc",
        Icon = "üéØ",
        Color = Color3.fromRGB(255, 150, 0) -- Cam
    },
    {
        Name = "Shop",
        Icon = "üõí",
        Color = Color3.fromRGB(255, 100, 200) -- H·ªìng
    },
    {
        Name = "Fruit",
        Icon = "üçé",
        Color = Color3.fromRGB(200, 0, 255) -- T√≠m
    },
    {
        Name = "Raid",
        Icon = "üî•",
        Color = Color3.fromRGB(255, 50, 50) -- ƒê·ªè
    }
}

local currentTab = "Farm"
local TabButtons = {}
local TabContents = {}

-- T·∫°o UIPadding cho TabContainer
local TabPadding = Instance.new("UIPadding")
TabPadding.PaddingTop = UDim.new(0, 10)
TabPadding.PaddingLeft = UDim.new(0, 5)
TabPadding.Parent = TabContainer

-- T·∫°o UIListLayout cho c√°c tab button
local TabListLayout = Instance.new("UIListLayout")
TabListLayout.Padding = UDim.new(0, 5)
TabListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
TabListLayout.Parent = TabContainer

-- T·∫°o c√°c tab button
for i, tab in ipairs(Tabs) do
    -- T·∫°o button cho tab
    local TabButton = Instance.new("TextButton")
    TabButton.Name = tab.Name .. "Tab"
    TabButton.Size = UDim2.new(1, -10, 0, 35)
    TabButton.BackgroundColor3 = Color3.fromRGB(35, 35, 40)
    TabButton.BorderSizePixel = 0
    TabButton.Text = "  " .. tab.Icon .. "  " .. tab.Name
    TabButton.TextColor3 = Color3.fromRGB(200, 200, 200)
    TabButton.TextSize = 13
    TabButton.Font = Enum.Font.GothamMedium
    TabButton.TextXAlignment = Enum.TextXAlignment.Left
    TabButton.AutoButtonColor = false
    TabButton.Parent = TabContainer
    
    -- Corner cho tab button
    local TabCorner = Instance.new("UICorner")
    TabCorner.CornerRadius = UDim.new(0, 8)
    TabCorner.Parent = TabButton
    
    -- Icon label ri√™ng bi·ªát
    local IconLabel = Instance.new("TextLabel")
    IconLabel.Name = "Icon"
    IconLabel.Size = UDim2.new(0, 30, 1, 0)
    IconLabel.Position = UDim2.new(0, 5, 0, 0)
    IconLabel.BackgroundTransparency = 1
    IconLabel.Text = tab.Icon
    IconLabel.TextColor3 = tab.Color
    IconLabel.TextSize = 16
    IconLabel.Font = Enum.Font.GothamBold
    IconLabel.TextXAlignment = Enum.TextXAlignment.Left
    IconLabel.Parent = TabButton
    
    -- Text label ri√™ng bi·ªát
    local TextLabel = Instance.new("TextLabel")
    TextLabel.Name = "Text"
    TextLabel.Size = UDim2.new(1, -40, 1, 0)
    TextLabel.Position = UDim2.new(0, 35, 0, 0)
    TextLabel.BackgroundTransparency = 1
    TextLabel.Text = tab.Name
    TextLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    TextLabel.TextSize = 13
    TextLabel.Font = Enum.Font.GothamMedium
    TextLabel.TextXAlignment = Enum.TextXAlignment.Left
    TextLabel.Parent = TabButton
    
    -- Highlight khi ch·ªçn
    local Highlight = Instance.new("Frame")
    Highlight.Name = "Highlight"
    Highlight.Size = UDim2.new(0, 4, 0.7, 0)
    Highlight.Position = UDim2.new(0, 3, 0.15, 0)
    Highlight.BackgroundColor3 = tab.Color
    Highlight.BorderSizePixel = 0
    Highlight.Visible = (tab.Name == currentTab)
    Highlight.Parent = TabButton
    
    local HighlightCorner = Instance.new("UICorner")
    HighlightCorner.CornerRadius = UDim.new(0, 2)
    HighlightCorner.Parent = Highlight
    
    -- Gradient effect cho tab ƒë∆∞·ª£c ch·ªçn
    local SelectedGradient = Instance.new("UIGradient")
    SelectedGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(45, 45, 50)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(40, 40, 45))
    }
    SelectedGradient.Rotation = 90
    SelectedGradient.Enabled = (tab.Name == currentTab)
    SelectedGradient.Parent = TabButton
    
    -- T·∫°o content cho tab
    local TabContent = Instance.new("ScrollingFrame")
    TabContent.Name = tab.Name .. "Content"
    TabContent.Size = UDim2.new(1, 0, 1, 0)
    TabContent.BackgroundTransparency = 1
    TabContent.BorderSizePixel = 0
    TabContent.ScrollBarThickness = 3
    TabContent.ScrollBarImageColor3 = Color3.fromRGB(80, 80, 90)
    TabContent.Visible = (tab.Name == currentTab)
    TabContent.AutomaticCanvasSize = Enum.AutomaticSize.Y
    TabContent.CanvasSize = UDim2.new(0, 0, 0, 0)
    TabContent.Parent = ContentFrame
    
    -- UIPadding cho content
    local ContentPadding = Instance.new("UIPadding")
    ContentPadding.PaddingTop = UDim.new(0, 10)
    ContentPadding.PaddingLeft = UDim.new(0, 15)
    ContentPadding.PaddingRight = UDim.new(0, 15)
    ContentPadding.Parent = TabContent
    
    -- UIListLayout cho content
    local ContentListLayout = Instance.new("UIListLayout")
    ContentListLayout.Padding = UDim.new(0, 15)
    ContentListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    ContentListLayout.Parent = TabContent
    
    ContentListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        TabContent.CanvasSize = UDim2.new(0, 0, 0, ContentListLayout.AbsoluteContentSize.Y + 20)
    end)
    
    -- L∆∞u v√†o table
    TabButtons[tab.Name] = {
        Button = TabButton,
        Content = TabContent,
        Highlight = Highlight,
        Gradient = SelectedGradient,
        Color = tab.Color
    }
    
    -- Hi·ªáu ·ª©ng hover
    TabButton.MouseEnter:Connect(function()
        if currentTab ~= tab.Name then
            local hoverTween = TweenService:Create(
                TabButton,
                TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundColor3 = Color3.fromRGB(42, 42, 47)}
            )
            hoverTween:Play()
        end
    end)
    
    TabButton.MouseLeave:Connect(function()
        if currentTab ~= tab.Name then
            local unhoverTween = TweenService:Create(
                TabButton,
                TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundColor3 = Color3.fromRGB(35, 35, 40)}
            )
            unhoverTween:Play()
        end
    end)
    
    -- X·ª≠ l√Ω click
    TabButton.MouseButton1Click:Connect(function()
        SwitchTab(tab.Name)
    end)
end

-- H√†m chuy·ªÉn tab
function SwitchTab(tabName)
    if currentTab == tabName then return end
    
    -- ·∫®n tab c≈©
    TabButtons[currentTab].Content.Visible = false
    TabButtons[currentTab].Highlight.Visible = false
    TabButtons[currentTab].Gradient.Enabled = false
    
    -- Reset m√†u tab c≈©
    local oldTween = TweenService:Create(
        TabButtons[currentTab].Button,
        TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
        {BackgroundColor3 = Color3.fromRGB(35, 35, 40)}
    )
    oldTween:Play()
    
    -- Hi·ªán tab m·ªõi
    currentTab = tabName
    TabButtons[tabName].Content.Visible = true
    TabButtons[tabName].Highlight.Visible = true
    TabButtons[tabName].Gradient.Enabled = true
    
    -- Animation tab m·ªõi
    local newTween = TweenService:Create(
        TabButtons[tabName].Button,
        TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
        {BackgroundColor3 = Color3.fromRGB(45, 45, 50)}
    )
    newTween:Play()
    
    -- Hi·ªáu ·ª©ng m√†u cho icon
    local iconTween = TweenService:Create(
        TabButtons[tabName].Button:FindFirstChild("Icon"),
        TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
        {TextColor3 = TabButtons[tabName].Color}
    )
    iconTween:Play()
    
    -- Reset icon c·ªßa tab c≈©
    local oldIcon = TabButtons[currentTab].Button:FindFirstChild("Icon")
    if oldIcon then
        local resetIconTween = TweenService:Create(
            oldIcon,
            TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
            {TextColor3 = Color3.fromRGB(150, 150, 150)}
        )
        resetIconTween:Play()
    end
end

-- T·∫°o n·ªôi dung cho t·ª´ng tab
CreateTabContent("Farm", "Farm Content")
CreateTabContent("Setting", "Settings Content")
CreateTabContent("Info", "Information Content")
CreateTabContent("Misc", "Miscellaneous Content")
CreateTabContent("Shop", "Shop Content")
CreateTabContent("Fruit", "Fruit Content")
CreateTabContent("Raid", "Raid Content")

-- H√†m t·∫°o n·ªôi dung tab
function CreateTabContent(tabName, title)
    local tab = TabButtons[tabName]
    if not tab then return end
    
    -- Title
    local TitleLabel = Instance.new("TextLabel")
    TitleLabel.Name = "Title"
    TitleLabel.Size = UDim2.new(1, 0, 0, 40)
    TitleLabel.BackgroundTransparency = 1
    TitleLabel.Text = title
    TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    TitleLabel.TextSize = 22
    TitleLabel.Font = Enum.Font.GothamBold
    TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
    TitleLabel.Parent = tab.Content
    
    -- Separator line
    local Separator = Instance.new("Frame")
    Separator.Name = "Separator"
    Separator.Size = UDim2.new(1, 0, 0, 2)
    Separator.Position = UDim2.new(0, 0, 0, 45)
    Separator.BackgroundColor3 = TabButtons[tabName].Color
    Separator.BorderSizePixel = 0
    Separator.Parent = tab.Content
    
    -- T·∫°o c√°c button/toggle cho t·ª´ng tab
    if tabName == "Farm" then
        CreateToggle(tab.Content, "Auto Farm", UDim2.new(0, 0, 0, 60), false, function(state)
            print("Auto Farm:", state)
        end)
        
        CreateToggle(tab.Content, "Auto Quest", UDim2.new(0, 0, 0, 110), false, function(state)
            print("Auto Quest:", state)
        end)
        
        CreateButton(tab.Content, "Start Farming", UDim2.new(0, 0, 0, 160), function()
            print("Starting Farm...")
        end)
        
    elseif tabName == "Setting" then
        CreateToggle(tab.Content, "Anti AFK", UDim2.new(0, 0, 0, 60), true, function(state)
            print("Anti AFK:", state)
        end)
        
        CreateSlider(tab.Content, "Walk Speed", 16, 100, 50, function(value)
            print("Walk Speed:", value)
        end)
        
    elseif tabName == "Shop" then
        CreateButton(tab.Content, "Buy Sword", UDim2.new(0, 0, 0, 60), function()
            print("Buying Sword...")
        end)
        
        CreateButton(tab.Content, "Buy Accessory", UDim2.new(0, 0, 0, 110), function()
            print("Buying Accessory...")
        end)
        
    elseif tabName == "Fruit" then
        CreateToggle(tab.Content, "Auto Buy Fruit", UDim2.new(0, 0, 0, 60), false, function(state)
            print("Auto Buy Fruit:", state)
        end)
        
        CreateButton(tab.Content, "Eat Fruit", UDim2.new(0, 0, 0, 110), function()
            print("Eating Fruit...")
        end)
        
    elseif tabName == "Raid" then
        CreateToggle(tab.Content, "Auto Raid", UDim2.new(0, 0, 0, 60), false, function(state)
            print("Auto Raid:", state)
        end)
        
        CreateButton(tab.Content, "Start Raid", UDim2.new(0, 0, 0, 110), function()
            print("Starting Raid...")
        end)
    end
end

-- T·∫°o n√∫t ƒë√≥ng/minimize
CloseButton.MouseButton1Click:Connect(function()
    MainGUI.Enabled = false
end)

MinimizeButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = not MainFrame.Visible
end)

-- Drag functionality
local dragging = false
local dragInput, dragStart, startPos

TitleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

TitleBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if dragging and input == dragInput then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(
            startPos.X.Scale, 
            startPos.X.Offset + delta.X,
            startPos.Y.Scale, 
            startPos.Y.Offset + delta.Y
        )
    end
end)
-- Save/Load settings
local Settings = {
    AutoFarm = false,
    WalkSpeed = 50,
    AntiAFK = true
}

-- Save to data store
function SaveSettings()
    local success, err = pcall(function()
        local DataStoreService = game:GetService("DataStoreService")
        local settingsStore = DataStoreService:GetDataStore("RedzHubSettings")
        settingsStore:SetAsync(game.Players.LocalPlayer.UserId, Settings)
    end)
    
    if not success then
        warn("Failed to save settings:", err)
    end
end

-- Load settings
function LoadSettings()
    local success, data = pcall(function()
        local DataStoreService = game:GetService("DataStoreService")
        local settingsStore = DataStoreService:GetDataStore("RedzHubSettings")
        return settingsStore:GetAsync(game.Players.LocalPlayer.UserId)
    end)
    
    if success and data then
        Settings = data
        -- Update UI v·ªõi settings ƒë√£ load
    end
end

-- Hotkeys
local UserInputService = game:GetService("UserInputService")
local toggleKey = Enum.KeyCode.RightShift

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == toggleKey then
        MainGUI.Enabled = not MainGUI.Enabled
    end
end)

-- Notification system
function ShowNotification(title, message, color)
    local Notification = Instance.new("Frame")
    -- T·∫°o notification UI...
end
-- ModuleScript: Settings
local Settings = {
    -- Farm settings
    AutoFarm = false,
    AutoQuest = false,
    FarmMethod = "Nearest", -- "Nearest", "HighestLevel", "Weakest"
    FarmRange = 50,
    FarmSpeed = 1,
    
    -- Combat settings
    AutoAttack = true,
    UseSkills = true,
    SkillPriority = {"Z", "X", "C", "V", "F"},
    AttackDelay = 0.5,
    
    -- Fruit settings
    AutoBuyFruit = false,
    DesiredFruit = "Light",
    FruitStorage = "Inventory",
    
    -- Raid settings
    AutoRaid = false,
    RaidType = "Flame",
    Team = "Marines",
    
    -- Misc settings
    WalkSpeed = 50,
    JumpPower = 50,
    AntiAFK = true,
    NoClip = false,
    
    -- Shop settings
    AutoBuySwords = false,
    AutoBuyAccessories = false,
    MaxSwordPrice = 1000000,
    
    -- UI settings
    UIPosition = UDim2.new(0.5, -250, 0.5, -175),
    UIVisible = true
}

return Settings
-- ModuleScript: AutoFarm (ServerScriptService/RedzHub/Modules/AutoFarm)
local AutoFarm = {}
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local PathfindingService = game:GetService("PathfindingService")

-- Variables
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")

local currentTarget = nil
local farming = false
local path = nil

-- Get enemies trong range
function AutoFarm.GetEnemiesInRange(range)
    local enemies = {}
    for _, npc in ipairs(Workspace.NPCs:GetChildren()) do
        if npc:FindFirstChild("Humanoid") and npc.Humanoid.Health > 0 then
            local distance = (rootPart.Position - npc.HumanoidRootPart.Position).Magnitude
            if distance <= range then
                table.insert(enemies, npc)
            end
        end
    end
    return enemies
end

-- Ch·ªçn m·ª•c ti√™u theo method
function AutoFarm.SelectTarget(method)
    local enemies = AutoFarm.GetEnemiesInRange(Settings.FarmRange)
    
    if #enemies == 0 then return nil end
    
    if method == "Nearest" then
        local nearest = nil
        local nearestDistance = math.huge
        for _, enemy in ipairs(enemies) do
            local distance = (rootPart.Position - enemy.HumanoidRootPart.Position).Magnitude
            if distance < nearestDistance then
                nearest = enemy
                nearestDistance = distance
            end
        end
        return nearest
        
    elseif method == "Weakest" then
        local weakest = nil
        local lowestHealth = math.huge
        for _, enemy in ipairs(enemies) do
            if enemy.Humanoid.Health < lowestHealth then
                weakest = enemy
                lowestHealth = enemy.Humanoid.Health
            end
        end
        return weakest
        
    elseif method == "HighestLevel" then
        -- Gi·∫£ s·ª≠ level ƒë∆∞·ª£c l∆∞u trong m·ªôt IntValue t√™n "Level"
        local highestLevel = nil
        local highestLevelValue = 0
        for _, enemy in ipairs(enemies) do
            local levelValue = enemy:FindFirstChild("Level")
            if levelValue and levelValue.Value > highestLevelValue then
                highestLevel = enemy
                highestLevelValue = levelValue.Value
            end
        end
        return highestLevel or enemies[1]
    end
    
    return enemies[1]
end

-- Di chuy·ªÉn ƒë·∫øn m·ª•c ti√™u
function AutoFarm.MoveToTarget(target)
    if not target or not target:FindFirstChild("HumanoidRootPart") then return end
    
    local targetPos = target.HumanoidRootPart.Position
    local direction = (targetPos - rootPart.Position).Unit
    
    -- Simple movement
    rootPart.CFrame = CFrame.new(rootPart.Position, Vector3.new(targetPos.X, rootPart.Position.Y, targetPos.Z))
    humanoid:MoveTo(targetPos)
    
    -- Ho·∫∑c d√πng PathfindingService cho ph·ª©c t·∫°p h∆°n
    if Settings.UsePathfinding then
        if path then path:Destroy() end
        
        path = PathfindingService:CreatePath({
            AgentRadius = 2,
            AgentHeight = 5,
            AgentCanJump = true
        })
        
        path:ComputeAsync(rootPart.Position, targetPos)
        
        if path.Status == Enum.PathStatus.Success then
            local waypoints = path:GetWaypoints()
            for _, waypoint in ipairs(waypoints) do
                humanoid:MoveTo(waypoint.Position)
                humanoid.MoveToFinished:Wait()
            end
        end
    end
end

-- T·∫•n c√¥ng m·ª•c ti√™u
function AutoFarm.AttackTarget(target)
    if not target or not target:FindFirstChild("Humanoid") then return end
    
    -- Ki·ªÉm tra trong range
    local distance = (rootPart.Position - target.HumanoidRootPart.Position).Magnitude
    if distance > 20 then return false end
    
    -- S·ª≠ d·ª•ng skills n·∫øu ƒë∆∞·ª£c b·∫≠t
    if Settings.UseSkills then
        for _, skillKey in ipairs(Settings.SkillPriority) do
            -- Gi·∫£ l·∫≠p nh·∫•n skill key
            AutoFarm.UseSkill(skillKey)
            task.wait(Settings.AttackDelay / 2)
        end
    end
    
    -- Basic attack
    local tool = character:FindFirstChildOfClass("Tool")
    if tool and tool:FindFirstChild("Handle") then
        -- K√≠ch ho·∫°t tool attack
        tool:Activate()
    end
    
    -- Melee attack (n·∫øu c√≥ melee script)
    local args = {
        [1] = target.HumanoidRootPart.Position,
        [2] = target
    }
    
    -- Gi·∫£ l·∫≠p remote event attack (c·∫ßn ƒëi·ªÅu ch·ªânh theo game)
    local remote = game.ReplicatedStorage:FindFirstChild("CombatRemote")
    if remote then
        remote:FireServer(unpack(args))
    end
    
    return target.Humanoid.Health <= 0
end

-- S·ª≠ d·ª•ng skill
function AutoFarm.UseSkill(key)
    -- Gi·∫£ l·∫≠p nh·∫•n ph√≠m skill
    local skillRemote = game.ReplicatedStorage:FindFirstChild("SkillRemote")
    if skillRemote then
        skillRemote:FireServer(key)
    end
end

-- Main farm loop
function AutoFarm.StartFarming()
    if farming then return end
    farming = true
    
    spawn(function()
        while farming and Settings.AutoFarm do
            if not character or not rootPart or not humanoid or humanoid.Health <= 0 then
                task.wait(1)
                character = player.Character or player.CharacterAdded:Wait()
                humanoid = character:WaitForChild("Humanoid")
                rootPart = character:WaitForChild("HumanoidRootPart")
                continue
            end
            
            -- Ch·ªçn m·ª•c ti√™u
            currentTarget = AutoFarm.SelectTarget(Settings.FarmMethod)
            
            if currentTarget then
                -- Di chuy·ªÉn ƒë·∫øn m·ª•c ti√™u
                AutoFarm.MoveToTarget(currentTarget)
                
                -- T·∫•n c√¥ng cho ƒë·∫øn khi ch·∫øt
                local attackCount = 0
                while currentTarget and currentTarget:FindFirstChild("Humanoid") and 
                      currentTarget.Humanoid.Health > 0 and farming do
                    
                    local killed = AutoFarm.AttackTarget(currentTarget)
                    if killed then
                        break
                    end
                    
                    attackCount += 1
                    if attackCount > 20 then -- Timeout sau 20 l·∫ßn t·∫•n c√¥ng
                        break
                    end
                    
                    task.wait(Settings.AttackDelay)
                end
            else
                -- Kh√¥ng c√≥ m·ª•c ti√™u, t√¨m quest ho·∫∑c di chuy·ªÉn
                if Settings.AutoQuest then
                    AutoFarm.CompleteNearestQuest()
                else
                    -- Di chuy·ªÉn ng·∫´u nhi√™n ƒë·ªÉ t√¨m m·ª•c ti√™u
                    local randomPos = rootPart.Position + Vector3.new(
                        math.random(-50, 50),
                        0,
                        math.random(-50, 50)
                    )
                    humanoid:MoveTo(randomPos)
                    task.wait(2)
                end
            end
            
            task.wait(0.1)
        end
    end)
end

function AutoFarm.StopFarming()
    farming = false
    currentTarget = nil
    if path then path:Destroy() end
end

-- Ho√†n th√†nh quest
function AutoFarm.CompleteNearestQuest()
    -- T√¨m NPC quest g·∫ßn nh·∫•t
    local questNPCs = {}
    for _, npc in ipairs(Workspace.NPCs:GetChildren()) do
        if npc:FindFirstChild("Quest") then
            table.insert(questNPCs, npc)
        end
    end
    
    if #questNPCs > 0 then
        local nearestNPC = nil
        local nearestDist = math.huge
        
        for _, npc in ipairs(questNPCs) do
            local dist = (rootPart.Position - npc.HumanoidRootPart.Position).Magnitude
            if dist < nearestDist then
                nearestNPC = npc
                nearestDist = dist
            end
        end
        
        if nearestNPC and nearestDist < 30 then
            -- Ch·∫•p nh·∫≠n quest
            local questRemote = game.ReplicatedStorage:FindFirstChild("QuestRemote")
            if questRemote then
                questRemote:FireServer("Accept", nearestNPC.Name)
            end
        else
            -- Di chuy·ªÉn ƒë·∫øn NPC
            if nearestNPC then
                AutoFarm.MoveToTarget(nearestNPC)
            end
        end
    end
end

-- Anti-AFK
function AutoFarm.StartAntiAFK()
    local VirtualInputManager = game:GetService("VirtualInputManager")
    
    spawn(function()
        while Settings.AntiAFK do
            task.wait(30) -- M·ªói 30 gi√¢y
            VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.W, false, nil)
            task.wait(0.1)
            VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.W, false, nil)
        end
    end)
end

return AutoFarm
-- ModuleScript: FruitManager (ServerScriptService/RedzHub/Modules/FruitManager)
local FruitManager = {}
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local fruitStorage = nil

-- Danh s√°ch fruit v√† gi√°
local FruitList = {
    "Bomb", "Spike", "Chop", "Spring", "Kilo", "Spin", "Bird: Falcon",
    "Smoke", "Flame", "Ice", "Sand", "Dark", "Diamond", "Light",
    "Rubber", "Barrier", "Ghost", "Magma", "Quake", "Buddha", "Love",
    "Spider", "Sound", "Phoenix", "Portal", "Rumble", "Pain", "Blizzard",
    "Gravity", "Mammoth", "Dough", "Shadow", "Venom", "Control", "Spirit",
    "Dragon"
}

-- T√¨m fruit dealer
function FruitManager.FindFruitDealer()
    for _, npc in ipairs(Workspace.NPCs:GetChildren()) do
        if npc.Name:find("Dealer") or npc.Name:find("Blox Fruit Dealer") then
            return npc
        end
    end
    return nil
end

-- Mua fruit
function FruitManager.BuyFruit(fruitName)
    local dealer = FruitManager.FindFruitDealer()
    if not dealer then
        warn("Kh√¥ng t√¨m th·∫•y Fruit Dealer!")
        return false
    end
    
    -- Di chuy·ªÉn ƒë·∫øn dealer
    local character = player.Character
    if character then
        character:MoveTo(dealer.HumanoidRootPart.Position + Vector3.new(0, 0, 5))
        task.wait(1)
    end
    
    -- Mua fruit qua remote
    local buyRemote = ReplicatedStorage:FindFirstChild("PurchaseFruit")
    if buyRemote then
        buyRemote:FireServer(fruitName)
        return true
    end
    
    return false
end

-- Auto buy fruit loop
function FruitManager.StartAutoBuy()
    spawn(function()
        while Settings.AutoBuyFruit do
            -- Ki·ªÉm tra ƒë√£ c√≥ fruit mong mu·ªën ch∆∞a
            local hasDesiredFruit = FruitManager.CheckInventory(Settings.DesiredFruit)
            
            if not hasDesiredFruit then
                -- Th·ª≠ mua fruit
                local success = FruitManager.BuyFruit(Settings.DesiredFruit)
                if success then
                    print("ƒê√£ mua fruit:", Settings.DesiredFruit)
                else
                    print("Kh√¥ng th·ªÉ mua fruit:", Settings.DesiredFruit)
                end
            end
            
            task.wait(10) -- Ch·ªù 10 gi√¢y tr∆∞·ªõc khi th·ª≠ l·∫°i
        end
    end)
end

-- Ki·ªÉm tra inventory
function FruitManager.CheckInventory(fruitName)
    -- Gi·∫£ s·ª≠ fruits ƒë∆∞·ª£c l∆∞u trong player stats
    local playerData = player:FindFirstChild("Data")
    if playerData then
        local fruits = playerData:FindFirstChild("Fruits")
        if fruits then
            for _, fruit in ipairs(fruits:GetChildren()) do
                if fruit.Name == fruitName then
                    return true
                end
            end
        end
    end
    return false
end

-- Eat fruit
function FruitManager.EatFruit(fruitName)
    local eatRemote = ReplicatedStorage:FindFirstChild("EatFruit")
    if eatRemote then
        eatRemote:FireServer(fruitName)
        return true
    end
    return false
end

-- Store fruit
function FruitManager.StoreFruit(fruitName)
    local storeRemote = ReplicatedStorage:FindFirstChild("StoreFruit")
    if storeRemote then
        storeRemote:FireServer(fruitName)
        return true
    end
    return false
end

-- Get current fruit
function FruitManager.GetCurrentFruit()
    local character = player.Character
    if character then
        for _, tool in ipairs(character:GetChildren()) do
            if tool:IsA("Tool") and tool.Name:find("Fruit") then
                return tool.Name
            end
        end
    end
    return nil
end

return FruitManager
-- ModuleScript: RaidManager (ServerScriptService/RedzHub/Modules/RaidManager)
local RaidManager = {}
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")

local player = Players.LocalPlayer
local inRaid = false
local raidIsland = nil

-- T√¨m raid island
function RaidManager.FindRaidIsland(raidType)
    for _, island in ipairs(Workspace.Islands:GetChildren()) do
        if island.Name:find(raidType) then
            return island
        end
    end
    return nil
end

-- Tham gia raid
function RaidManager.JoinRaid(raidType, team)
    local raidRemote = ReplicatedStorage:FindFirstChild("JoinRaid")
    if raidRemote then
        raidRemote:FireServer(raidType, team)
        return true
    end
    return false
end

-- Auto raid loop
function RaidManager.StartAutoRaid()
    spawn(function()
        while Settings.AutoRaid do
            -- Ki·ªÉm tra ƒëang trong raid ch∆∞a
            if not inRaid then
                -- Tham gia raid
                local joined = RaidManager.JoinRaid(Settings.RaidType, Settings.Team)
                if joined then
                    inRaid = true
                    print("ƒê√£ tham gia raid:", Settings.RaidType)
                end
            else
                -- ƒêang trong raid, farm mobs
                RaidManager.FarmRaidMobs()
            end
            
            task.wait(5)
        end
    end)
end

-- Farm mobs trong raid
function RaidManager.FarmRaidMobs()
    local character = player.Character
    if not character then return end
    
    local rootPart = character:FindFirstChild("HumanoidRootPart")
    if not rootPart then return end
    
    -- T√¨m mobs trong raid
    for _, mob in ipairs(Workspace.RaidMobs:GetChildren()) do
        if mob:FindFirstChild("Humanoid") and mob.Humanoid.Health > 0 then
            local distance = (rootPart.Position - mob.HumanoidRootPart.Position).Magnitude
            
            if distance > 30 then
                -- Di chuy·ªÉn ƒë·∫øn mob
                character:MoveTo(mob.HumanoidRootPart.Position)
                task.wait(1)
            end
            
            -- T·∫•n c√¥ng mob
            RaidManager.AttackMob(mob)
            task.wait(0.5)
        end
    end
end

-- T·∫•n c√¥ng mob raid
function RaidManager.AttackMob(mob)
    local args = {
        [1] = mob.HumanoidRootPart.Position,
        [2] = mob
    }
    
    local combatRemote = ReplicatedStorage:FindFirstChild("RaidCombat")
    if combatRemote then
        combatRemote:FireServer(unpack(args))
    end
end

-- Ki·ªÉm tra raid boss
function RaidManager.FindRaidBoss()
    for _, boss in ipairs(Workspace.RaidBosses:GetChildren()) do
        if boss:FindFirstChild("Humanoid") and boss.Humanoid.Health > 0 then
            return boss
        end
    end
    return nil
end

-- Attack raid boss
function RaidManager.AttackBoss()
    local boss = RaidManager.FindRaidBoss()
    if not boss then return false end
    
    local character = player.Character
    if not character then return false end
    
    -- S·ª≠ d·ª•ng t·∫•t c·∫£ skills
    for _, skill in ipairs({"Z", "X", "C", "V", "F"}) do
        RaidManager.UseSkill(skill, boss)
        task.wait(0.3)
    end
    
    return boss.Humanoid.Health <= 0
end

-- S·ª≠ d·ª•ng skill trong raid
function RaidManager.UseSkill(skillKey, target)
    local skillRemote = ReplicatedStorage:FindFirstChild("RaidSkill")
    if skillRemote then
        skillRemote:FireServer(skillKey, target)
    end
end

function RaidManager.StopAutoRaid()
    inRaid = false
end

return RaidManager
-- ModuleScript: ShopManager (ServerScriptService/RedzHub/Modules/ShopManager)
local ShopManager = {}
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer

-- Get player money
function ShopManager.GetMoney()
    local leaderstats = player:FindFirstChild("leaderstats")
    if leaderstats then
        local money = leaderstats:FindFirstChild("Money") or leaderstats:FindFirstChild("Belis")
        if money then
            return money.Value
        end
    end
    return 0
end

-- T√¨m sword shop
function ShopManager.FindSwordShop()
    for _, npc in ipairs(Workspace.NPCs:GetChildren()) do
        if npc.Name:find("Sword") and npc.Name:find("Dealer") then
            return npc
        end
    end
    return nil
end

-- Mua sword
function ShopManager.BuySword(swordName)
    local shop = ShopManager.FindSwordShop()
    if not shop then return false end
    
    local money = ShopManager.GetMoney()
    
    -- Gi·∫£ s·ª≠ c√≥ remote ƒë·ªÉ mua
    local buyRemote = ReplicatedStorage:FindFirstChild("BuySword")
    if buyRemote then
        local success, price = ShopManager.GetSwordPrice(swordName)
        if success and money >= price and price <= Settings.MaxSwordPrice then
            buyRemote:FireServer(swordName)
            return true
        end
    end
    
    return false
end

-- L·∫•y gi√° sword
function ShopManager.GetSwordPrice(swordName)
    -- Gi·∫£ s·ª≠ c√≥ module ch·ª©a gi√°
    local swordPrices = {
        ["Katana"] = 1000,
        ["Cutlass"] = 5000,
        ["Dual Katana"] = 15000,
        ["Triple Katana"] = 50000
    }
    
    local price = swordPrices[swordName]
    if price then
        return true, price
    end
    return false, 0
end

-- Auto buy swords loop
function ShopManager.StartAutoBuySwords()
    spawn(function()
        local swordsToBuy = {"Katana", "Cutlass", "Dual Katana", "Triple Katana"}
        
        while Settings.AutoBuySwords do
            local money = ShopManager.GetMoney()
            
            for _, sword in ipairs(swordsToBuy) do
                -- Ki·ªÉm tra ƒë√£ c√≥ sword ch∆∞a
                if not ShopManager.HasSword(sword) then
                    -- Ki·ªÉm tra ƒë·ªß ti·ªÅn
                    local success, price = ShopManager.GetSwordPrice(sword)
                    if success and money >= price then
                        ShopManager.BuySword(sword)
                        task.wait(2)
                    end
                end
            end
            
            task.wait(10) -- Ch·ªù 10 gi√¢y
        end
    end)
end

-- Ki·ªÉm tra ƒë√£ c√≥ sword ch∆∞a
function ShopManager.HasSword(swordName)
    local backpack = player:FindFirstChild("Backpack")
    if backpack then
        for _, tool in ipairs(backpack:GetChildren()) do
            if tool.Name == swordName then
                return true
            end
        end
    end
    return false
end

-- Buy accessory
function ShopManager.BuyAccessory(accessoryName)
    local buyRemote = ReplicatedStorage:FindFirstChild("BuyAccessory")
    if buyRemote then
        buyRemote:FireServer(accessoryName)
        return true
    end
    return false
end

return ShopManager
-- LocalScript trong GUI
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RedzHub = ReplicatedStorage:FindFirstChild("RedzHub") or Instance.new("Folder")
RedzHub.Name = "RedzHub"
RedzHub.Parent = ReplicatedStorage

-- Load modules
local AutoFarm = require(ReplicatedStorage.RedzHub.Modules.AutoFarm)
local FruitManager = require(ReplicatedStorage.RedzHub.Modules.FruitManager)
local RaidManager = require(ReplicatedStorage.RedzHub.Modules.RaidManager)
local ShopManager = require(ReplicatedStorage.RedzHub.Modules.ShopManager)
local Settings = require(ReplicatedStorage.RedzHub.Config.Settings)

-- Tab Farm Controls
local AutoFarmToggle = TabButtons["Farm"].Content:FindFirstChild("AutoFarmToggle")
local AutoQuestToggle = TabButtons["Farm"].Content:FindFirstChild("AutoQuestToggle")
local StartFarmButton = TabButtons["Farm"].Content:FindFirstChild("StartFarmingButton")

if AutoFarmToggle then
    AutoFarmToggle.Click:Connect(function()
        Settings.AutoFarm = not Settings.AutoFarm
        if Settings.AutoFarm then
            AutoFarm.StartFarming()
            print("Auto Farm: B·∫≠t")
        else
            AutoFarm.StopFarming()
            print("Auto Farm: T·∫Øt")
        end
    end)
end

if AutoQuestToggle then
    AutoQuestToggle.Click:Connect(function()
        Settings.AutoQuest = not Settings.AutoQuest
        print("Auto Quest:", Settings.AutoQuest)
    end)
end

if StartFarmButton then
    StartFarmButton.Click:Connect(function()
        AutoFarm.StartFarming()
    end)
end

-- Tab Fruit Controls
local AutoBuyFruitToggle = TabButtons["Fruit"].Content:FindFirstChild("AutoBuyFruitToggle")
local EatFruitButton = TabButtons["Fruit"].Content:FindFirstChild("EatFruitButton")

if AutoBuyFruitToggle then
    AutoBuyFruitToggle.Click:Connect(function()
        Settings.AutoBuyFruit = not Settings.AutoBuyFruit
        if Settings.AutoBuyFruit then
            FruitManager.StartAutoBuy()
            print("Auto Buy Fruit: B·∫≠t")
        else
            print("Auto Buy Fruit: T·∫Øt")
        end
    end)
end

if EatFruitButton then
    EatFruitButton.Click:Connect(function()
        FruitManager.EatFruit(Settings.DesiredFruit)
    end)
end

-- Tab Raid Controls
local AutoRaidToggle = TabButtons["Raid"].Content:FindFirstChild("AutoRaidToggle")
local StartRaidButton = TabButtons["Raid"].Content:FindFirstChild("StartRaidButton")

if AutoRaidToggle then
    AutoRaidToggle.Click:Connect(function()
        Settings.AutoRaid = not Settings.AutoRaid
        if Settings.AutoRaid then
            RaidManager.StartAutoRaid()
            print("Auto Raid: B·∫≠t")
        else
            RaidManager.StopAutoRaid()
            print("Auto Raid: T·∫Øt")
        end
    end)
end

if StartRaidButton then
    StartRaidButton.Click:Connect(function()
        RaidManager.JoinRaid(Settings.RaidType, Settings.Team)
    end)
end

-- Tab Shop Controls
local AutoBuySwordsToggle = TabButtons["Shop"].Content:FindFirstChild("AutoBuySwordsToggle")

if AutoBuySwordsToggle then
    AutoBuySwordsToggle.Click:Connect(function()
        Settings.AutoBuySwords = not Settings.AutoBuySwords
        if Settings.AutoBuySwords then
            ShopManager.StartAutoBuySwords()
            print("Auto Buy Swords: B·∫≠t")
        else
            print("Auto Buy Swords: T·∫Øt")
        end
    end)
end

-- Tab Setting Controls
local AntiAFKToggle = TabButtons["Setting"].Content:FindFirstChild("AntiAFKToggle")
local WalkSpeedSlider = TabButtons["Setting"].Content:FindFirstChild("WalkSpeedSlider")

if AntiAFKToggle then
    AntiAFKToggle.Click:Connect(function()
        Settings.AntiAFK = not Settings.AntiAFK
        if Settings.AntiAFK then
            AutoFarm.StartAntiAFK()
            print("Anti-AFK: B·∫≠t")
        else
            print("Anti-AFK: T·∫Øt")
        end
    end)
end

if WalkSpeedSlider then
    WalkSpeedSlider.Changed:Connect(function(value)
        Settings.WalkSpeed = value
        local character = player.Character
        if character and character:FindFirstChild("Humanoid") then
            character.Humanoid.WalkSpeed = value
        end
    end)
end

-- Save settings khi tho√°t game
game:GetService("Players").PlayerRemoving:Connect(function(leavingPlayer)
    if leavingPlayer == player then
        -- L∆∞u settings
        local success = pcall(function()
            local HttpService = game:GetService("HttpService")
            local DataStoreService = game:GetService("DataStoreService")
            local settingsStore = DataStoreService:GetDataStore("RedzHubSettings")
            
            local encoded = HttpService:JSONEncode(Settings)
            settingsStore:SetAsync(player.UserId, encoded)
        end)
        
        -- D·ª´ng t·∫•t c·∫£ processes
        Settings.AutoFarm = false
        Settings.AutoRaid = false
        Settings.AutoBuyFruit = false
        Settings.AutoBuySwords = false
    end
end)

-- Load settings khi v√†o game
spawn(function()
    task.wait(2)
    local success, data = pcall(function()
        local HttpService = game:GetService("HttpService")
        local DataStoreService = game:GetService("DataStoreService")
        local settingsStore = DataStoreService:GetDataStore("RedzHubSettings")
        
        local encoded = settingsStore:GetAsync(player.UserId)
        if encoded then
            return HttpService:JSONDecode(encoded)
        end
    end)
    
    if success and data then
        for key, value in pairs(data) do
            Settings[key] = value
        end
        print("ƒê√£ load settings")
    end
end)

print("Redz Hub ƒë√£ s·∫µn s√†ng!")
-- Script: RemoteHandler (ServerScriptService/RedzHub)
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local ServerStorage = game:GetService("ServerStorage")

-- T·∫°o remote events ƒë·ªÉ client giao ti·∫øp v·ªõi server
local RedzHubRemotes = Instance.new("Folder")
RedzHubRemotes.Name = "RedzHubRemotes"
RedzHubRemotes.Parent = ReplicatedStorage

-- Remote cho farm
local FarmRemote = Instance.new("RemoteEvent")
FarmRemote.Name = "RedzFarm"
FarmRemote.Parent = RedzHubRemotes

-- Remote cho fruit
local FruitRemote = Instance.new("RemoteEvent")
FruitRemote.Name = "RedzFruit"
FruitRemote.Parent = RedzHubRemotes

-- Remote cho raid
local RaidRemote = Instance.new("RemoteEvent")
RaidRemote.Name = "RedzRaid"
RaidRemote.Parent = RedzHubRemotes

-- X·ª≠ l√Ω farm requests
FarmRemote.OnServerEvent:Connect(function(player, action, ...)
    if action == "StartFarm" then
        -- Logic farm ·ªü server-side
        print(player.Name, "b·∫Øt ƒë·∫ßu farm")
        
    elseif action == "StopFarm" then
        print(player.Name, "d·ª´ng farm")
        
    elseif action == "Attack" then
        local target = ...
        -- X·ª≠ l√Ω damage
    end
end)

-- X·ª≠ l√Ω fruit requests
FruitRemote.OnServerEvent:Connect(function(player, action, fruitName)
    if action == "Buy" then
        -- Ki·ªÉm tra ti·ªÅn v√† mua fruit
        print(player.Name, "mua fruit:", fruitName)
        
    elseif action == "Eat" then
        print(player.Name, "ƒÉn fruit:", fruitName)
    end
end)

-- Anti-exploit checks
local function validatePlayer(player)
    if not player or not player.Character then return false end
    
    -- Ki·ªÉm tra cooldown
    local cooldown = player:FindFirstChild("RedzCooldown")
    if cooldown and tick() - cooldown.Value < 0.5 then
        return false
    end
    
    -- Update cooldown
    if not cooldown then
        cooldown = Instance.new("NumberValue")
        cooldown.Name = "RedzCooldown"
        cooldown.Parent = player
    end
    cooldown.Value = tick()
    
    return true
end

-- Hook v√†o game mechanics
game:GetService("Players").PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function(character)
        -- Theo d√µi stats
        local stats = Instance.new("Folder")
        stats.Name = "RedzStats"
        stats.Parent = player
        
        local farmTime = Instance.new("NumberValue")
        farmTime.Name = "FarmTime"
        farmTime.Value = 0
        farmTime.Parent = stats
    end)
end)
